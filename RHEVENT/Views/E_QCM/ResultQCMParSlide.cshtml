@model  RHEVENT.Models.E_ResultQCMParSlide


@{
    ViewBag.Title = "Gestion des évaluations";
}
@{
    ViewBag.titre_page = "E-learning";
    ViewBag.email = ViewBag.email;
    ViewBag.nom_prenom = ViewBag.nom_prenom;
}



<h2 class="text" style="color:cornflowerblue">
    <span class="glyphicon   glyphicon-expand"> </span>
    Résultat de  QCM
</h2>
<br />

<html>
<body>

    <strong style="color:blue; font-size:20px; margin-left:80%"> <span name="time" id="time">   </span>  </strong>


    @*@foreach (var item in Model)
        {*@

    <div class="col-lg-12" style="color:blue; font-size:14px">
        <strong>  @Html.DisplayNameFor(model => model.Question) :  @Html.DisplayFor(modelItem => Model.Question)</strong>
    </div>


    @if ((Model.Reponse1 == Model.Reponse1User && Model.EtatRep1 == "Vrai") || (Model.Reponse1 == Model.Reponse2User && Model.EtatRep1 == "Vrai") || (Model.Reponse1 == Model.Reponse3User && Model.EtatRep1 == "Vrai") || (Model.Reponse1 == Model.Reponse4User && Model.EtatRep1 == "Vrai"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style="border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px">   @Html.DisplayFor(modelItem => Model.Reponse1)</strong>
        </div>
    }
    else if (Model.EtatRep1 == "Vrai")
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style=" border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse1) </strong>  &nbsp; &nbsp; <strong style="color:red">@Session["Incomp1"].ToString()</strong> <br />
        </div>
    }
    else if ((Model.Reponse1 == Model.Reponse1User && Model.EtatRep1 == "Faux") || (Model.Reponse1 == Model.Reponse2User && Model.EtatRep1 == "Faux") || (Model.Reponse1 == Model.Reponse3User && Model.EtatRep1 == "Faux") || (Model.Reponse1 == Model.Reponse4User && Model.EtatRep1 == "Faux"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/faux.png" style="border-width:0px;" class="img-circle" />
            <strong style="color:red ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse1)</strong>
        </div>
    }
    else
    {
        <div class="col-lg-12" style="color:black ; font-size:14px ; margin-left:30px">
            @Html.DisplayFor(modelItem => Model.Reponse1)
        </div>
    }



    @if ((Model.Reponse2 == Model.Reponse1User && Model.EtatRep2 == "Vrai") || (Model.Reponse2 == Model.Reponse2User && Model.EtatRep2 == "Vrai") || (Model.Reponse2 == Model.Reponse3User && Model.EtatRep2 == "Vrai") || (Model.Reponse2 == Model.Reponse4User && Model.EtatRep2 == "Vrai"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style="border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse2)</strong>
        </div>
    }
    else if (Model.EtatRep2 == "Vrai")
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style=" border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse2) </strong>  &nbsp;  &nbsp; <strong style="color:red">@Session["Incomp2"].ToString()</strong> <br />
        </div>
    }
    else if ((Model.Reponse2 == Model.Reponse1User && Model.EtatRep2 == "Faux") || (Model.Reponse2 == Model.Reponse2User && Model.EtatRep2 == "Faux") || (Model.Reponse2 == Model.Reponse3User && Model.EtatRep2 == "Faux") || (Model.Reponse2 == Model.Reponse4User && Model.EtatRep2 == "Faux"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/faux.png" style="border-width:0px;" class="img-circle" />
            <strong style="color:red ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse2)</strong>
        </div>
    }
    else
    {
        <div class="col-lg-12" style="color:black ; font-size:14px ; margin-left:30px">
            @Html.DisplayFor(modelItem => Model.Reponse2)
        </div>
    }




    @if ((Model.Reponse3 == Model.Reponse1User && Model.EtatRep3 == "Vrai") || (Model.Reponse3 == Model.Reponse2User && Model.EtatRep3 == "Vrai") || (Model.Reponse3 == Model.Reponse3User && Model.EtatRep3 == "Vrai") || (Model.Reponse3 == Model.Reponse4User && Model.EtatRep3 == "Vrai"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style="border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse3)</strong>
        </div>
    }
    else if (Model.EtatRep3 == "Vrai")
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style=" border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse3) </strong>  &nbsp;  &nbsp; <strong style="color:red">@Session["Incomp3"].ToString()</strong> <br />
        </div>
    }
    else if ((Model.Reponse3 == Model.Reponse1User && Model.EtatRep3 == "Faux") || (Model.Reponse3 == Model.Reponse2User && Model.EtatRep3 == "Faux") || (Model.Reponse3 == Model.Reponse3User && Model.EtatRep3 == "Faux") || (Model.Reponse3 == Model.Reponse4User && Model.EtatRep3 == "Faux"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/faux.png" style="border-width:0px;" class="img-circle" />
            <strong style="color:red ; font-size:14px ; margin-left:12px">@Html.DisplayFor(modelItem => Model.Reponse3)</strong>
        </div>
    }
    else if (Model.Reponse3.ToString() == "")
    {
        <div class="col-lg-12" style="visibility:hidden">
            <img src="~/Content/images/vrai.jpg" style="border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse3)</strong>
        </div>
    }
    else
    {
        <div class="col-lg-12" style="color:black ; font-size:14px ; margin-left:30px">
            @Html.DisplayFor(modelItem => Model.Reponse3)
        </div>

    }


    @if ((Model.Reponse4 == Model.Reponse1User && Model.EtatRep4 == "Vrai") || (Model.Reponse4 == Model.Reponse2User && Model.EtatRep4 == "Vrai") || (Model.Reponse4 == Model.Reponse3User && Model.EtatRep4 == "Vrai") || (Model.Reponse4 == Model.Reponse4User && Model.EtatRep4 == "Vrai"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style="border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse4)</strong>
        </div>
    }

    else if (Model.EtatRep4 == "Vrai")
    {
        <div class="col-lg-12">
            <img src="~/Content/images/vrai.jpg" style=" border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse4) </strong>  &nbsp; &nbsp; <strong style="color:red">@Session["Incomp4"].ToString()</strong> <br />
        </div>
    }

    else if ((Model.Reponse4 == Model.Reponse1User && Model.EtatRep4 == "Faux") || (Model.Reponse4 == Model.Reponse2User && Model.EtatRep4 == "Faux") || (Model.Reponse4 == Model.Reponse3User && Model.EtatRep4 == "Faux") || (Model.Reponse4 == Model.Reponse4User && Model.EtatRep4 == "Faux"))
    {
        <div class="col-lg-12">
            <img src="~/Content/images/faux.png" style=" border-width:0px;" class="img-circle" />
            <strong style="color:red ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse4)</strong>
        </div>
    }

    else if (Model.Reponse4.ToString() == "")
    {
        <div class="col-lg-12" style="visibility:hidden">
            <img src="~/Content/images/vrai.jpg" style="border-width:0px;" class="img-circle" />
            <strong style="color:limegreen ; font-size:14px ; margin-left:12px"> @Html.DisplayFor(modelItem => Model.Reponse4)</strong>
        </div>
    }

    else
    {
        <div class="col-lg-12" style="color:black ; font-size:14px ; margin-left:30px">
            @Html.DisplayFor(modelItem => Model.Reponse4)  <br />
        </div>
    }






    <br /> <br />
    @*}*@




    @*<div class="col-lg-12" style="margin-left:200px; font-size:25px">
            @if (ViewBag.Valid == "Valide")
            {
                <br /> <strong style="color:forestgreen">Score : @ViewBag.Score  <label>%</label>  @ViewBag.Valid</strong>
            }
            else if (ViewBag.Valid == "Invalide")
            {
                <br /> <strong style="color:red">Score : @ViewBag.Score <label>%</label>   @ViewBag.Valid</strong>
            }
        </div>*@


    <div class="col-lg-12  ">
        <br /> <br />
        <button class="btn btn-danger" style="color:white ; background-color:gold"> @Html.ActionLink("Suivant", "ConsultParSlide", "E_QCM", new { id = @ViewBag.CodeEval, SNQ = @Session["SNQ"].ToString() }, null)</button>

    </div>
    @*<div class="col-lg-12  ">
            <br /> <br />
            <button class="btn btn-danger" style="color:white ; background-color:gold"> @Html.ActionLink("Terminer", "Terminer", "E_QCM", new { codeEval = @ViewBag.CodeEval, score = @ViewBag.Score, valide = @ViewBag.Valid }, null)</button>


        </div>*@
</body>
</html>



<script>
    function startTimer(duration, display) {
        var start = Date.now(),
            diff,
            minutes,
            seconds;
        function timer() {
            // get the number of seconds that have elapsed since
            // startTimer() was called
            diff = duration - (((Date.now() - start) / 1000) | 0);

            // does the same job as parseInt truncates the float
            minutes = (diff / 60) | 0;
            seconds = (diff % 60) | 0;

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = minutes + ":" + seconds;

            if (diff <= 0) {
                // add one second so that the count down starts at the full duration
                // example 05:00 not 04:59
                start = Date.now() + 1000;
            }
        };
        // we don't want to wait a full second before the timer starts
        timer();
        setInterval(timer, 1000);

    }

    window.onload = function () {
        var fiveMinutes = Number(@Session["MinF"].ToString()) ,
            display = document.querySelector('#time');
        startTimer(fiveMinutes, display);

    };
</script>